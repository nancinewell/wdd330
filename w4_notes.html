<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>WDD330 Nanci Newell</title>
	<link rel="stylesheet" media="screen" href="main.css">
	<link rel="stylesheet" media="screen" href="large.css">
	<script>
		function search(event) {
			alert(`You Searched for: ${input.value}`);
			event.preventDefault();
		}
	
		function makeHero(event) {
			event.preventDefault(); // prevent the form from being submitted
			const hero = {}; // create an empty object
			
			// create a name property based on the input field's value
			hero.name = formHero.heroName.value; 
			// create a realName property based on the input field's value
			hero.realName = formHero.realName.value;
			
			/* The Old Way...
			hero.powers = [];
				for (let i=0; i < formHero.powers.length; i++) {
					if (formHero.powers[i].checked) {
						hero.powers.push(formHero.powers[i].value);
					}
				}
			*/
			//The NEW way!
			hero.powers = [...formHero.powers].filter(box => box.checked).map(box => box.value);
			
			//add Category to the object
			hero.category = formHero.category.value;
			
			//add Age to the object
			hero.age = formHero.age.value;
			
			//add City to object
			hero.city = formHero.city.value;
			
			//add Origin to object
			hero.origin = formHero.origin.value;
			
			// convert object to JSON string and display in alert dialog
			alert(JSON.stringify(hero)); 
			
			return hero;
		}
		
		function validate(event) {
			const firstLetter = formHero.heroName.value[0];
			if (firstLetter.toUpperCase() === 'X') {
				event.preventDefault();
				alert('Your name is not allowed to start with X. Sorry X-Man');
			}
		}
		
		function validateInline() {
			const heroName = this.value.toUpperCase();
			if(heroName.startsWith('X')){
			error.style.display = 'block';
			} else {
			error.style.display = 'none';
			}
		}
		
		function disableSubmit(event) {
			if(event.target.value === ''){
				document.getElementById('submit').disabled = true;
			} else {
				document.getElementById('submit').disabled = false;
			}
		}
		
	</script>
</head>

<body>
	
	<header>
		<h1><span id="brand">nanci</span>newell</h1>
		<h2>WDD 330 - Mobile Application Pilot</h2>
		<h4>Spring 2020</h4>
	</header>
	
	<main>
		<nav class="mobile-menu">
			<div id="menu">M E N U</div>
			<input type="checkbox" id="menu-check">
			<ul class="topnav">
				<li><a href="index.html">Home</a></li>
				<li><a href="quizninja.html">Project: Quiz Ninja</a></li>
				<li>Week 4
					<ul>
						<li><a href="w4_team3.html">Team Assignment</a></li>
						<li><a href="w4_notes.html">Notes</a></li>
						<li><a href="w4_exercises.html">Exercises</a></li>
					</ul>
				</li>
			</ul>
		</nav>
		
		<section class="mainsection">
			<div>
				<h3>Search Example</h3>
				<form name="search" action="/search">
					<input name="searchInput" placeholder="What are you looking for?">
					<button type="submit">Search</button>
					<button type="reset">Reset</button>
				</form>
			</div>
			<div>
				<h3>Hero Form</h3>
				<form id="hero-form">
					<label for="heroName">Name:
						<input type="text" id="heroName" name="heroName" autofocus placeholder="Your Super Hero Name" maxlength="32">
					</label>
					<label for="donation-amount">Enter amount to donate: 
						<input type="text" id ="donation-amount" name="donationAmount" value="10">
					</label>
					<label for="realName">Real Name:
						<input type="password" name="realName" id="realName">
					</label>
					<div id="powers">
						<p>Super Powers:</p>
						<label for="flight">Flight:
							<input class="hero-class" type="checkbox" id="flight" value="Flight" name="powers">
						</label><br>
						<label for="strength">Super Strength:
							<input class="hero-class" type="checkbox" id="strength" value="Strength" name="powers">
						</label><br>
						<label for="speed">Super Speed:
							<input class="hero-class" type="checkbox" id="speed" value="Super Speed" name="powers">
						</label><br>
						<label for="energy">Energy Blasts:
							<input class="hero-class" type="checkbox" id="energy" value="Energy Blasts" name="powers">
						</label><br>
						<label for="telekinesis">Telekinesis:
							<input class="hero-class" type="checkbox" id="telekinesis" value="Telekinesis" name="powers">
						</label>
					</div>
					<div id="char-type">
						<p>What type of hero are you?</p>
						<label for="hero">Hero:
							<input class="hero-class" type="radio" name="category" value="Hero" id="hero">
						</label><br>
						<label for="villain">Villain:
							<input class="hero-class" type="radio" name="category" value="Villain" id="villain">
						</label><br>
						<label for="anti-hero">Anti-Hero:
							<input class="hero-class" type="radio" name="category" value="Antihero" id="anti-hero">
						</label>
					</div>
					<label for="age">Age:
						<input type="number" id="age" name="age" min="0" step="1">
					</label><br>
					<label for="City">Base of Operations:
						<select name="city" id="city">
							<option value="" selected>Choose a City</option>
							<option value="Metropolis">Metropolis</option>
							<option value="Gotham City">Gotham City</option>
							<option value="Keystone City">Keystone City</option>
							<option value="Coast City">Coast City</option>
							<option value="Star City">Star City</option>
						</select>
					</label><br>
					<label for="origin">Origin Story:
						<textarea id="origin" name="origin"></textarea>
					</label>
					<br>
					<button type="submit">Submit</button>
					<button type="reset">Reset</button>


				</form>
			</div>
			
		</section>
		<script>
			/* * * * * * * * * * Search Form* * * * * * * * * * */
			const formSearch = document.forms["search"];
			const input = formSearch["searchInput"];
			input.placeholder = 'Search Here';
			formSearch.addEventListener ('submit', search, false);
				
			input.addEventListener('focus', function(){
				if (input.placeholder==='Search Here') {
					input.placeholder = 'Yes! Search Here!' 
				}
			}, false);
			
			input.addEventListener('blur', function(){
				if(input.value === '') {
				input.placeholder = "Wait, don't you want to search here?";
				} 
			}, false);
			
			/* * * * * * * * * * Hero Form* * * * * * * * * * */
			const formHero = document.forms['hero-form'];
			const label = formHero.querySelector('label');
			const error = document.createElement("div");
			error.classList.add("error");
			error.textContent = "Your name is not allowed to start with X.";
			label.append(error);
			const heroName = document.getElementById("heroName");
			
			heroName.addEventListener("keyup", validateInline, false);
			formHero.addEventListener('submit',validate,false);
			formHero.addEventListener('submit', makeHero, false);
			formHero.heroName.addEventListener('keyup',disableSubmit,false);
			
			
		</script>
	</main>
</body>
</html>

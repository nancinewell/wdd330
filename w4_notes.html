<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>WDD330 Nanci Newell</title>
	<link rel="stylesheet" media="screen" href="main.css">
	<link rel="stylesheet" media="screen" href="large.css">
	<script>
		/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
											SEARCH
		 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
		function search(event) {
			alert(`You Searched for: ${input.value}`);
			event.preventDefault();
		}
		/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
											HERO FORM
		 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
		function makeHero(event) {
			event.preventDefault(); // prevent the form from being submitted
			const hero = {}; // create an empty object
			
			// create a name property based on the input field's value
			hero.name = formHero.heroName.value; 
			// create a realName property based on the input field's value
			hero.realName = formHero.realName.value;
			
			/* The Old Way...
			hero.powers = [];
				for (let i=0; i < formHero.powers.length; i++) {
					if (formHero.powers[i].checked) {
						hero.powers.push(formHero.powers[i].value);
					}
				}
			*/
			//The NEW way!
			hero.powers = [...formHero.powers].filter(box => box.checked).map(box => box.value);
			
			//add Category to the object
			hero.category = formHero.category.value;
			
			//add Age to the object
			hero.age = formHero.age.value;
			
			//add City to object
			hero.city = formHero.city.value;
			
			//add Origin to object
			hero.origin = formHero.origin.value;
			
			// convert object to JSON string and display in alert dialog
			alert(JSON.stringify(hero)); 
			
			return hero;
		}
		
		function validate(event) {
			const firstLetter = formHero.heroName.value[0];
			if (firstLetter.toUpperCase() === 'X') {
				event.preventDefault();
				alert('Your name is not allowed to start with X. Sorry X-Man');
			}
		}
		
		function validateInline() {
			const heroName = this.value.toUpperCase();
			if(heroName.startsWith('X')){
			error.style.display = 'block';
			} else {
			error.style.display = 'none';
			}
		}
		
		function disableSubmit(event) {
			if(event.target.value === ''){
				document.getElementById('submit').disabled = true;
			} else {
				document.getElementById('submit').disabled = false;
			}
		}
		
		
		
		/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
									OBJECT ORIENTED PROGRAMMING
		 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
		//create Dice class
		class Dice {
			constructor(sides = 6){
				this.sides = sides;
			}
			roll() {
				return Math.floor(this.sides * Math.random() + 1);
			}
			sound(){
				let audio = new Audio("die-sound.mp3");
				audio.play();
			}
		}
		//first die: 6 sides (default)
		const die1 = new Dice();
		
		//second die: 8 sides
		const die2 = new Dice(8);
		
		//third die: 10 sides
		const die3 = new Dice(10);
		
		function rollDice(){
			const storyDice = document.getElementById("story-dice");
			const threeDice = storyDice.getElementsByTagName("img");
			
			//const die1Roll = die1.roll();
			
			
			for (let i = 0; i < threeDice.length; i++){
				
				//roll each die
				let dieRoll; 
				switch(i){
					case 0:  dieRoll = die1;
						break;
					case 1:  dieRoll = die2;
						break;
					case 2:  dieRoll = die3;
				}
				
				//dieRoll.roll();
				dieRoll.sound();
				
				//set how many sides for the image display
				let dieSides;
				switch (i){
					case 0: dieSides = 6;
						break;
					case 1: dieSides = 8;
						break;
					case 2: dieSides = 10;
						break;
				}
			
			
				switch (dieRoll.roll()){
					case 1: threeDice[i].src="images/" + dieSides + "-1.png";
						break;
					case 2: threeDice[i].src="images/" + dieSides + "-2.png";
						break;
					case 3: threeDice[i].src="images/" + dieSides + "-3.png";
						break;
					case 4: threeDice[i].src="images/" + dieSides + "-4.png";
						break;
					case 5: threeDice[i].src="images/" + dieSides + "-5.png";
						break;
					case 6: threeDice[i].src="images/" + dieSides + "-6.png";
						break;
					case 7: threeDice[i].src="images/" + dieSides + "-6.png";
						break;
					case 8: threeDice[i].src="images/" + dieSides + "-6.png";
						break;
					case 9: threeDice[i].src="images/" + dieSides + "-6.png";
						break;
					case 10: threeDice[i].src="images/" + dieSides + "-6.png";
						break;
				}
			}
		}
		
		/*
		switch (die1Roll){
			case 1: threeDice[i].src="images/6-1.png";
				break;
			case 2: threeDice[i].src="images/6-2.png";
				break;
			case 3: threeDice[i].src="images/6-3.png";
				break;
			case 4: threeDice[i].src="images/6-4.png";
				break;
			case 5: threeDice[i].src="images/6-5.png";
				break;
			case 6: threeDice[i].src="images/6-6.png";
				break;
		}
		*/
		
		
	</script>
</head>

<body>
	
	<header>
		<h1><span id="brand">nanci</span>newell</h1>
		<h2>WDD 330 - Mobile Application Pilot</h2>
		<h4>Spring 2020</h4>
	</header>
	
	<main>
		<nav class="mobile-menu">
			<div id="menu">M E N U</div>
			<input type="checkbox" id="menu-check">
			<ul class="topnav">
				<li><a href="index.html">Home</a></li>
				<li><a href="quizninja.html">Project: Quiz Ninja</a></li>
				<li>Week 4
					<ul>
						<li><a href="w4_team3.html">Team Assignment</a></li>
						<li><a href="w4_notes.html">Notes</a></li>
						<li><a href="w4_exercises.html">Exercises</a></li>
					</ul>
				</li>
			</ul>
		</nav>
		
		<section class="mainsection">
			<div>
				<h3>Search Example</h3>
				<form name="search" action="/search" id="search">
					<input name="searchInput" placeholder="What are you looking for?">
					<button type="submit">Search</button>
					<button type="reset">Reset</button>
				</form>
			</div>
			<div>
				<h3>Hero Form</h3>
				<form id="hero-form">
					<label for="heroName">Name:
						<input type="text" id="heroName" name="heroName" autofocus placeholder="Your Super Hero Name" maxlength="32">
					</label>
					<label for="donation-amount">Enter amount to donate: 
						<input type="text" id ="donation-amount" name="donationAmount" value="10">
					</label>
					<label for="realName">Real Name:
						<input type="password" name="realName" id="realName">
					</label>
					<label for="City">Base of Operations:
						<select name="city" id="city">
							<option value="" selected>Choose a City</option>
							<option value="Metropolis">Metropolis</option>
							<option value="Gotham City">Gotham City</option>
							<option value="Keystone City">Keystone City</option>
							<option value="Coast City">Coast City</option>
							<option value="Star City">Star City</option>
						</select>
					</label><br>
					<div id="powers">
						<p>Super Powers:</p>
						<label for="flight">Flight:
							<input class="hero-class" type="checkbox" id="flight" value="Flight" name="powers">
						</label><br>
						<label for="strength">Super Strength:
							<input class="hero-class" type="checkbox" id="strength" value="Strength" name="powers">
						</label><br>
						<label for="speed">Super Speed:
							<input class="hero-class" type="checkbox" id="speed" value="Super Speed" name="powers">
						</label><br>
						<label for="energy">Energy Blasts:
							<input class="hero-class" type="checkbox" id="energy" value="Energy Blasts" name="powers">
						</label><br>
						<label for="telekinesis">Telekinesis:
							<input class="hero-class" type="checkbox" id="telekinesis" value="Telekinesis" name="powers">
						</label>
					</div>
					<div id="char-type">
						<p>What type of hero are you?</p>
						<label for="hero">Hero:
							<input class="hero-class" type="radio" name="category" value="Hero" id="hero">
						</label><br>
						<label for="villain">Villain:
							<input class="hero-class" type="radio" name="category" value="Villain" id="villain">
						</label><br>
						<label for="anti-hero">Anti-Hero:
							<input class="hero-class" type="radio" name="category" value="Antihero" id="anti-hero">
						</label>
					</div>
					<label for="age">Age:
						<input type="number" id="age" name="age" min="0" step="1">
					</label><br>
					
					<label for="origin">Origin Story:
						<textarea id="origin" name="origin"></textarea>
					</label>
					<br>
					<button type="submit">Submit</button>
					<button type="reset">Reset</button>


				</form>
			</div>
			<div id="story-dice">
				<h3>Object Oriented Programming</h3>
				<h4>Story Dice</h4>
				<p>Roll the dice, then make up a story using the images on the dice. This is a favorite of my children's.</p>
				<button type="button" id="roll-dice">Roll!</button>
				<img src="images/6-1.png" alt="6-sided die">
				<img src="images/8-1.png" alt="8-sided die">
				<img src="images/10-1.png" alt="10-sided die">
				
			</div>
		</section>
		<script>
			/* * * * * * * * * * Search Form* * * * * * * * * * */
			const formSearch = document.forms["search"];
			const input = formSearch["searchInput"];
			input.placeholder = 'Search Here';
			formSearch.addEventListener ('submit', search, false);
				
			input.addEventListener('focus', function(){
				if (input.placeholder==='Search Here') {
					input.placeholder = 'Yes! Search Here!' 
				}
			}, false);
			
			input.addEventListener('blur', function(){
				if(input.value === '') {
				input.placeholder = "Wait, don't you want to search here?";
				} 
			}, false);
			
			/* * * * * * * * * * Hero Form* * * * * * * * * * */
			const formHero = document.forms['hero-form'];
			const label = formHero.querySelector('label');
			const error = document.createElement("div");
			error.classList.add("error");
			error.textContent = "Your name is not allowed to start with X.";
			label.append(error);
			const heroName = document.getElementById("heroName");
			
			heroName.addEventListener("keyup", validateInline, false);
			formHero.addEventListener('submit',validate,false);
			formHero.addEventListener('submit', makeHero, false);
			formHero.heroName.addEventListener('keyup',disableSubmit,false);
			
			/* * * * * * * * * * Story Dice * * * * * * * * * * */
			const rollButton = document.getElementById("roll-dice");
			rollButton.addEventListener("click", rollDice)
			
		</script>
	</main>
</body>
</html>
